<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver: </title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
The following parameters may be specified when starting the module. These parameters define how the DWC_otg controller should be configured. Parameter values are passed to the CIL initialization function dwc_otg_cil_init<p>
Example: <code>modprobe dwc_otg speed=1 otg_cap=1</code><p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<td>Parameter Name</td><td>Meaning<p>
</td></tr>
<tr>
<td>otg_cap </td><td>Specifies the OTG capabilities. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: HNP and SRP capable (default, if available)</li><li>1: SRP Only capable</li><li>2: No HNP/SRP capable </li></ul>
<p>
</td></tr>
<tr>
<td>dma_enable </td><td>Specifies whether to use slave or DMA mode for accessing the data FIFOs. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: Slave</li><li>1: DMA (default, if available) </li></ul>
<p>
</td></tr>
<tr>
<td>dma_burst_size </td><td>The DMA Burst size (applicable only for External DMA Mode).<ul>
<li>Values: 1, 4, 8 16, 32, 64, 128, 256 (default 32) </li></ul>
<p>
</td></tr>
<tr>
<td>speed </td><td>Specifies the maximum speed of operation in host and device mode. The actual speed depends on the speed of the attached device and the value of phy_type.<ul>
<li>0: High Speed (default)</li><li>1: Full Speed </li></ul>
<p>
</td></tr>
<tr>
<td>host_support_fs_ls_low_power </td><td>Specifies whether low power mode is supported when attached to a Full Speed or Low Speed device in host mode.<ul>
<li>0: Don't support low power mode (default)</li><li>1: Support low power mode </li></ul>
<p>
</td></tr>
<tr>
<td>host_ls_low_power_phy_clk </td><td>Specifies the PHY clock rate in low power mode when connected to a Low Speed device in host mode. This parameter is applicable only if HOST_SUPPORT_FS_LS_LOW_POWER is enabled.<ul>
<li>0: 48 MHz (default)</li><li>1: 6 MHz </li></ul>
<p>
</td></tr>
<tr>
<td>enable_dynamic_fifo </td><td>Specifies whether FIFOs may be resized by the driver software.<ul>
<li>0: Use cC FIFO size parameters</li><li>1: Allow dynamic FIFO sizing (default) </li></ul>
<p>
</td></tr>
<tr>
<td>data_fifo_size </td><td>Total number of 4-byte words in the data FIFO memory. This memory includes the Rx FIFO, non-periodic Tx FIFO, and periodic Tx FIFOs.<ul>
<li>Values: 32 to 32768 (default 8192)</li></ul>
<p>
Note: The total FIFO memory depth in the FPGA configuration is 8192. <p>
</td></tr>
<tr>
<td>dev_rx_fifo_size </td><td>Number of 4-byte words in the Rx FIFO in device mode when dynamic FIFO sizing is enabled.<ul>
<li>Values: 16 to 32768 (default 1064) </li></ul>
<p>
</td></tr>
<tr>
<td>dev_nperio_tx_fifo_size </td><td>Number of 4-byte words in the non-periodic Tx FIFO in device mode when dynamic FIFO sizing is enabled.<ul>
<li>Values: 16 to 32768 (default 1024) </li></ul>
<p>
</td></tr>
<tr>
<td>dev_perio_tx_fifo_size_n (n = 1 to 15) </td><td>Number of 4-byte words in each of the periodic Tx FIFOs in device mode when dynamic FIFO sizing is enabled.<ul>
<li>Values: 4 to 768 (default 256) </li></ul>
<p>
</td></tr>
<tr>
<td>host_rx_fifo_size </td><td>Number of 4-byte words in the Rx FIFO in host mode when dynamic FIFO sizing is enabled.<ul>
<li>Values: 16 to 32768 (default 1024) </li></ul>
<p>
</td></tr>
<tr>
<td>host_nperio_tx_fifo_size </td><td>Number of 4-byte words in the non-periodic Tx FIFO in host mode when dynamic FIFO sizing is enabled in the core.<ul>
<li>Values: 16 to 32768 (default 1024) </li></ul>
<p>
</td></tr>
<tr>
<td>host_perio_tx_fifo_size </td><td>Number of 4-byte words in the host periodic Tx FIFO when dynamic FIFO sizing is enabled.<ul>
<li>Values: 16 to 32768 (default 1024) </li></ul>
<p>
</td></tr>
<tr>
<td>max_transfer_size </td><td>The maximum transfer size supported in bytes.<ul>
<li>Values: 2047 to 65,535 (default 65,535) </li></ul>
<p>
</td></tr>
<tr>
<td>max_packet_count </td><td>The maximum number of packets in a transfer.<ul>
<li>Values: 15 to 511 (default 511) </li></ul>
<p>
</td></tr>
<tr>
<td>host_channels </td><td>The number of host channel registers to use.<ul>
<li>Values: 1 to 16 (default 12)</li></ul>
<p>
Note: The FPGA configuration supports a maximum of 12 host channels. <p>
</td></tr>
<tr>
<td>dev_endpoints </td><td>The number of endpoints in addition to EP0 available for device mode operations.<ul>
<li>Values: 1 to 15 (default 6 IN and OUT)</li></ul>
<p>
Note: The FPGA configuration supports a maximum of 6 IN and OUT endpoints in addition to EP0. <p>
</td></tr>
<tr>
<td>phy_type </td><td>Specifies the type of PHY interface to use. By default, the driver will automatically detect the phy_type.<ul>
<li>0: Full Speed</li><li>1: UTMI+ (default, if available)</li><li>2: ULPI </li></ul>
<p>
</td></tr>
<tr>
<td>phy_utmi_width </td><td>Specifies the UTMI+ Data Width. This parameter is applicable for a phy_type of UTMI+. Also, this parameter is applicable only if the OTG_HSPHY_WIDTH cC parameter was set to "8 and 16 bits", meaning that the core has been configured to work at either data path width.<ul>
<li>Values: 8 or 16 bits (default 16) </li></ul>
<p>
</td></tr>
<tr>
<td>phy_ulpi_ddr </td><td>Specifies whether the ULPI operates at double or single data rate. This parameter is only applicable if phy_type is ULPI.<ul>
<li>0: single data rate ULPI interface with 8 bit wide data bus (default)</li><li>1: double data rate ULPI interface with 4 bit wide data bus </li></ul>
<p>
</td></tr>
<tr>
<td>i2c_enable </td><td>Specifies whether to use the I2C interface for full speed PHY. This parameter is only applicable if PHY_TYPE is FS.<ul>
<li>0: Disabled (default)</li><li>1: Enabled </li></ul>
<p>
</td></tr>
<tr>
<td>ulpi_fs_ls </td><td>Specifies whether to use ULPI FS/LS mode only.<ul>
<li>0: Disabled (default)</li><li>1: Enabled </li></ul>
<p>
</td></tr>
<tr>
<td>ts_dline </td><td>Specifies whether term select D-Line pulsing for all PHYs is enabled.<ul>
<li>0: Disabled (default)</li><li>1: Enabled </li></ul>
<p>
</td></tr>
<tr>
<td>en_multiple_tx_fifo </td><td>Specifies whether dedicatedto tx fifos are enabled for non periodic IN EPs. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: Disabled</li><li>1: Enabled (default, if available) </li></ul>
<p>
</td></tr>
<tr>
<td>dev_tx_fifo_size_n (n = 1 to 15) </td><td>Number of 4-byte words in each of the Tx FIFOs in device mode when dynamic FIFO sizing is enabled.<ul>
<li>Values: 4 to 768 (default 256) </li></ul>
<p>
</td></tr>
<tr>
<td>tx_thr_length </td><td>Transmit Threshold length in 32 bit double words<ul>
<li>Values: 8 to 128 (default 64) </li></ul>
<p>
</td></tr>
<tr>
<td>rx_thr_length </td><td>Receive Threshold length in 32 bit double words<ul>
<li>Values: 8 to 128 (default 64) </li></ul>
<p>
</td></tr>
<tr>
<td>thr_ctl </td><td>Specifies whether to enable Thresholding for Device mode. Bits 0, 1, 2 of this parmater specifies if thresholding is enabled for non-Iso Tx, Iso Tx and Rx transfers accordingly. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>Values: 0 to 7 (default 0) Bit values indicate:</li><li>0: Thresholding disabled</li><li>1: Thresholding enabled </li></ul>
<p>
</td></tr>
<tr>
<td>dma_desc_enable </td><td>Specifies whether to enable Descriptor DMA mode. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: Descriptor DMA disabled</li><li>1: Descriptor DMA (default, if available) </li></ul>
<p>
</td></tr>
<tr>
<td>mpi_enable </td><td>Specifies whether to enable MPI enhancement mode. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: MPI disabled (default)</li><li>1: MPI enable </li></ul>
<p>
</td></tr>
<tr>
<td>pti_enable </td><td>Specifies whether to enable PTI enhancement support. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: PTI disabled (default)</li><li>1: PTI enable </li></ul>
<p>
</td></tr>
<tr>
<td>lpm_enable </td><td>Specifies whether to enable LPM support. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: LPM disabled</li><li>1: LPM enable (default, if available) </li></ul>
<p>
</td></tr>
<tr>
<td>ic_usb_cap </td><td>Specifies whether to enable IC_USB capability. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: IC_USB disabled (default, if available)</li><li>1: IC_USB enable </li></ul>
<p>
</td></tr>
<tr>
<td>ahb_thr_ratio </td><td>Specifies AHB Threshold ratio.<ul>
<li>Values: 0 to 3 (default 0) </li></ul>
<p>
</td></tr>
<tr>
<td>power_down </td><td>Specifies Power Down(Hibernation) Mode. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: Power Down disabled (default)</li><li>2: Power Down enabled </li></ul>
<p>
</td></tr>
<tr>
<td>reload_ctl </td><td>Specifies whether dynamic reloading of the HFIR register is allowed during run time. The driver will automatically detect the value for this parameter if none is specified. In case the HFIR value is reloaded when HFIR.RldCtrl == 1'b0 the core might misbehave.<ul>
<li>0: Reload Control disabled (default)</li><li>1: Reload Control enabled </li></ul>
<p>
</td></tr>
<tr>
<td>dev_out_nak </td><td>Specifies whether Device OUT NAK enhancement enabled or no. The driver will automatically detect the value for this parameter if none is specified. This parameter is valid only when OTG_EN_DESC_DMA == 1’b1.<ul>
<li>0: The core does not set NAK after Bulk OUT transfer complete (default)</li><li>1: The core sets NAK after Bulk OUT transfer complete </li></ul>
<p>
</td></tr>
<tr>
<td>cont_on_bna </td><td>Specifies whether Enable Continue on BNA enabled or no. After receiving BNA interrupt the core disables the endpoint,when the endpoint is re-enabled by the application the<ul>
<li>0: Core starts processing from the DOEPDMA descriptor (default)</li><li>1: Core starts processing from the descriptor which received the BNA. This parameter is valid only when OTG_EN_DESC_DMA == 1’b1. </li></ul>
<p>
</td></tr>
<tr>
<td>ahb_single </td><td>This bit when programmed supports SINGLE transfers for remainder data in a transfer for DMA mode of operation.<ul>
<li>0: The remainder data will be sent using INCR burst size (default)</li><li>1: The remainder data will be sent using SINGLE burst size. </li></ul>
<p>
</td></tr>
<tr>
<td>adp_enable </td><td>Specifies whether ADP feature is enabled. The driver will automatically detect the value for this parameter if none is specified.<ul>
<li>0: ADP feature disabled (default)</li><li>1: ADP feature enabled </li></ul>
<p>
</td></tr>
<tr>
<td>otg_ver </td><td>Specifies whether OTG is performing as USB OTG Revision 2.0 or Revision 1.3 USB OTG device.<ul>
<li>0: OTG 2.0 support disabled (default)</li><li>1: OTG 2.0 support enabled  </li></ul>
</td></tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Oct 27 03:56:38 2011 for DesignWare USB 2.0 OTG Controller (DWC_otg) Device Driver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
